<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Running the Demonstration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00112.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00152.html" target="topic">Audio Demonstrations</a> &gt; <a href="00129.html" target="topic">Demonstrations</a> &gt; <a href="00109.html" target="topic">microphone_loopback</a> &gt; <a href="00112.html" target="topic">Running the Demonstration</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Audio Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00158.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00111.html" target="topic">Previous</a> | <a href="00109.html" target="topic">Up</a> | <a href="00131.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS AUDIO audio_microphone_loopback_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Running the Demonstration</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="5%" style="border:none;">
<div class="Element68">
<img src="Important icon.png" border="0" alt="" title=""><br>&nbsp;</div></td><td class="Element67" valign="top" width="12%" style="border:none;">
<div class="Element68">
<strong>Important!</strong>&nbsp;</div></td><td class="Element67" valign="top" width="83%" style="border:none;">
<div class="Element68">
Prior to using this demonstration, it is recommended to review the MPLAB Harmony 3 Release Notes for any known issues.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Projects using a Pushbutton LED User interface:</strong>&nbsp;</p>
<p class="Element10">
Compile the program using MPLAB X, and program the target device using the EDBG interface (ICD4 for the project using the Bluetooth Audio Development Kit). While compiling, select the appropriate MPLAB X IDE project. Refer to <a href="00122.html" target="topic">Building the Application</a> for details.&nbsp;</p>
<p class="Element10">
Four different delays can be generated. <strong>Tables 1-3</strong> provides a summary of the button actions that can used to control the volume and delay amount.</p>
<ol class="Element630">
<li value="1" class="Element600">Connect headphones to the HP OUT jack of the AK4954 or WM8904 Audio Codec Daughter Board (see <strong>Figures 1-2</strong>), or the HEADPHONE jack of the SAM V71 Xplained Ultra board.</li>
<li value="2" class="Element600">If applicable, connect a microphone to the MIC IN jack of the WM8904 Audio Codec Daughter Board (see <strong>Figure 2</strong>), or the MICROPHONE jack of the SAM V71 Xplained Ultra board. (For the AK4954, the internal microphone contained on the daughterboard is used instead, see <strong>Figure 1</strong>.)</li>
<li value="3" class="Element600">The lowest-numbered pushbutton (SW0 or SW1) and LED are used as the user interface to control the program, as shown in Tables 1-3 below, depending on the board used. Initially the program will be in delay-setting mode (LED on) at a medium volume setting. Pressing the pushbutton with the LED on will cycle through four delay settings.</li>
<li value="4" class="Element600">Pressing the pushbutton longer than one second will change to volume-setting mode (LED off). Pressing the pushbutton with the LED off will cycle through four volume settings (including mute). There is never any delay when setting the volume.</li>
<li value="5" class="Element600">Pressing the pushbutton longer than one second again will switch back to delay-setting mode again (LED on).</li>
</ol><p class="Element10" style="text-align: center;">
<img src="BTADK+PIM+mic.jpg" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>Figure 1: AK4954 Audio Codec Daughter Board on Bluetooth Audio Development Kit with PIC32MZ EF Audio PIM</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="E70-WM8904+mic-I2SC.jpg" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
<strong>Figure 2: WM8904 Audio Codec Daughter Board on SAM E70 Xplained Ultra board</strong></p><p class="Element10">
&nbsp;</p>
<div class="Element15">
Control Descriptions</div>
<p class="Element10">
<strong>Table 1: Button Controls for Bluetooth Audio Development Kit</strong> </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="20%">
<div class="Element66">
Control&nbsp;</div></td><td class="Element65" valign="top" width="80%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
SW1 short press&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
If LED D5 is off, SW1 cycles through four volume levels (one muted). If LED D5 is on, SW1 cycles through four delays: ¼ second, ½ second, 1 second and 1½ seconds.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
SW1 long press<br>(&gt; 1 second)&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
Alternates between modes (LED D5 on or off).&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Table 2: Button Controls for SAM E54 Curiosity Ultra board and SAM E70 Xplained Ultra board</strong>&nbsp;</p>
<p class="Element10">
(On some E70 boards, SW0/LED0 are the lowest numbered pushbutton and LED, so use Table 3 instead.) </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="20%">
<div class="Element66">
Control&nbsp;</div></td><td class="Element65" valign="top" width="80%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
SW1 short press&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
If LED1 if off, SW1 cycles through four volume levels (one muted). If LED1 is on, SW1 cycles through four delays: ¼ second, ½ second, 1 second and 1½ seconds.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
SW1 long press<br>(&gt; 1 second)&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
Alternates between modes (LED1 on or off).&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Table 3: Button Controls for SAM V71 Xplained Ultra board</strong> </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="20%">
<div class="Element66">
Control&nbsp;</div></td><td class="Element65" valign="top" width="80%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
SW0 short press&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
If LED0 if off, SW0 cycles through four volume levels (one muted). If LED0 is on, SW0 cycles through four delays: ¼ second, ½ second, 1 second and 1½ seconds.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
SW0 long press<br>(&gt; 1 second)&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
Alternates between modes (LED0 on or off).&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Project using a Graphical User Interface:</strong>&nbsp;</p>
<p class="Element10">
Compile the program using MPLAB X, and program the target device using the EDBG interface. While compiling, select the appropriate MPLAB X IDE project. Refer to <a href="00122.html" target="topic">Building the Application</a> for details.</p>
<ol class="Element630">
<li value="1" class="Element600">Connect headphones to the HP OUT jack of the WM8904 Audio Codec Daughter Board (see <strong>Figure 1</strong>).</li>
<li value="2" class="Element600">Connect a microphone to the MIC IN jack of the WM8904 Audio Codec Daughter Board (see <strong>Figure 1</strong>).</li>
<li value="3" class="Element600">Initially the program will be in delay-setting mode, with a 800 ms delay and a medium volume setting.</li>
<li value="4" class="Element600">The Delay can be adjusted from 10 ms to 1000 ms (1 second) using the center circular control.</li>
<li value="5" class="Element600">The Output Volume can be adjusted from 0% to 100% using the circular control on the right.</li>
<li value="6" class="Element600">The Microphone Gain can be adjusted from 0% to 100% using the slider on the left.</li>
<li value="7" class="Element600">Adjusting the microphone gain or output volume causes the delay to be temporarily disabled. Re-enable the previous value using the Enable Delay switch.</li>
<li value="8" class="Element600">The Enable Delay swtich can also be manually toggled at any time to disable the delay and provide immediate microphone loopback to the headphones.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS AUDIO microphone_loopback GUI.png" border="0" alt="" title=""></p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00152.html" target="topic">Audio Demonstrations</a> &gt; <a href="00129.html" target="topic">Demonstrations</a> &gt; <a href="00109.html" target="topic">microphone_loopback</a> &gt; <a href="00112.html" target="topic">Running the Demonstration</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Audio Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00158.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00111.html" target="topic">Previous</a> | <a href="00109.html" target="topic">Up</a> | <a href="00131.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS AUDIO audio_microphone_loopback_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>