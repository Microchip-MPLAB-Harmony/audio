<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>libq_q15_ExpAvg_q15_q15_q1d15 Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00609.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00651.html" target="topic">Math Libraries Help</a> &gt; <a href="00639.html" target="topic">LibQ_c</a> &gt; <a href="00663.html" target="topic">Library Interface</a> &gt; Functions &gt; <a href="00609.html" target="topic">libq_q15_ExpAvg_q15_q15_q1d15 Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Audio Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00158.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00608.html" target="topic">Previous</a> | <a href="00663.html" target="topic">Up</a> | <a href="00610.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: libq_q15_ExpAvg_q15_q15_q1d15@q15@q15@q15 Topic Title: libq_q15_ExpAvg_q15_q15_q1d15 Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
libq_q15_ExpAvg_q15_q15_q1d15 Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="53756D6D617279"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
Exponential averaging</p></div>
</div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
Function libq_q15_ExpAvg_q15_q15_q1d15()&nbsp;</p>
<p class="Element10">
Exponential averaging implements a smoothing function based on the form: avg[i+1] = avg[i] * lamda + new * (1-lamda) In this implementation, is has been optimized as follows. avg[i+1] = (avg[i] - new) * lamda + new&nbsp;</p>
<p class="Element10">
The optimization precludes accurate processing of new numbers that differ from the current average by more than unity. If the difference is greater than unity or less than negative unity, the difference is saturated.&nbsp;</p>
<p class="Element10">
The effect is akin to a smaller lambda, e.g., the new value will have a greater weight than expected. If the smoothing is of data that is entirely positive or entirely negative, then the saturation will not be an issue.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table3">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
q15 S(k)&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Previous exponential average&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
q15 X(k)&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
New value to be averaged in&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
q15 L&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
exponential averaging constant in Q1.15&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
q15 result - S(k+1) = S(k)*L + X(k)*(1-L)</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100">q15 <strong><span style="color: #000000">libq_q15_ExpAvg_q15_q15_q1d15</span></strong>(
    q15 <strong><span style="color: #000000">prevAvgQ15</span></strong>, 
    q15 <strong><span style="color: #000000">newMeasQ15</span></strong>, 
    q15 <strong><span style="color: #000000">lamdaQ1d15</span></strong>
);</pre></div></div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00651.html" target="topic">Math Libraries Help</a> &gt; <a href="00639.html" target="topic">LibQ_c</a> &gt; <a href="00663.html" target="topic">Library Interface</a> &gt; Functions &gt; <a href="00609.html" target="topic">libq_q15_ExpAvg_q15_q15_q1d15 Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Audio Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00158.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00608.html" target="topic">Previous</a> | <a href="00663.html" target="topic">Up</a> | <a href="00610.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: libq_q15_ExpAvg_q15_q15_q1d15@q15@q15@q15 Topic Title: libq_q15_ExpAvg_q15_q15_q1d15 Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>