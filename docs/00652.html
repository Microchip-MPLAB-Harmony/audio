<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Introduction</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00652.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00651.html" target="topic">Math Libraries Help</a> &gt; <a href="00652.html" target="topic">Introduction</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Audio Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00158.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00651.html" target="topic">Previous</a> | <a href="00651.html" target="topic">Up</a> | <a href="00644.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: Math Library Help Introduction Topic Title: Introduction)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Introduction</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
 &nbsp;</p>
<p class="Element10">
The fixed point math libraries use fractional value represented in “Q” format as described below&nbsp;</p>
<p class="Element10">
Integer Representation of Fractions&nbsp;</p>
<p class="Element10">
Fractional representation of a real number is given by:&nbsp;</p>
<p class="Element10">
<i>Qn.m</i> where:&nbsp;</p>
<p class="Element10">
• <i>n</i> is the number of data bits to the left of the radix point&nbsp;</p>
<p class="Element10">
• <i>m</i> is the number of data bits to the right of the radix point&nbsp;</p>
<p class="Element10">
• a signed bit is implied, and takes one bit of resolution&nbsp;</p>
<p class="Element10">
• Shorthand may eliminate the leading 0, such as in Q0.15, which may be shortened to Q15, and similarly Q0.31, which is shortened to Q31&nbsp;</p>
<p class="Element10">
<i>Qn.m</i> numerical values are used by the library processing data as integers. In this format the n represents the number of integer bits, and the m represents the number of fractional bits. All values assume a sign bit in the most significant bit. Therefore, the range of the numerical value is: &nbsp;</p><p class="Element10" style="text-align: center;">
-2<sup>(n-1)</sup> to [2<sup>(n-1)</sup> - 2<sup>(-m)</sup>]; with a resolution of 2<sup>(-m</sup>).&nbsp;</p><p class="Element10">
A Q16 format number (Q15.16) would range from -32768.0 (0x8000 0000) to 32767.99998474 with a precision of 0.000015259 (or 2<sup>-16</sup>). For example, a numerical representation of the number 3.14159 in Q2.13 notation would be: </p><p class="Element10" style="text-align: center;">
3.14159 * 2<sup>13</sup> = 25735.9 =&gt; 0x6488</p><p class="Element10">
And converting from the Q7.8 format with the value 0x1D89 would be: </p><p class="Element10" style="text-align: center;">
0x1D89 / 2<sup>8</sup> = 7561 / 256 =&gt; 29.5316, accurate to 0.00391</p><p class="Element10">
The majority of the math libraries uses functions with variables in Q15 or Q31 format. This limits the equivalent numerical range to roughly -1.0 to 0.999999999. It is possible to represent other number ranges, but scaling before and after the function call are necessary. All library functions will saturate the output if the value exceeds the maximum or is lower than the minimum allowable value for that resolution. Some prescaling may be necessary to prevent unwanted saturation in functions that may otherwise create calculation errors.&nbsp;</p>
<p class="Element10">
Usually, a Q16, Q31 and version of each function is available. Floating point versions are also available for CMSIS-DSP.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00651.html" target="topic">Math Libraries Help</a> &gt; <a href="00652.html" target="topic">Introduction</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Audio Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00158.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00651.html" target="topic">Previous</a> | <a href="00651.html" target="topic">Up</a> | <a href="00644.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: Math Library Help Introduction Topic Title: Introduction)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>